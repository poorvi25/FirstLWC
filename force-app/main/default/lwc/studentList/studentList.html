<template>
    
    <lightning-card title="Students List">

        <div class="slds-p-around_medium">
            <lightning-input 
                type="search"
                placeholder="Search by name, email or class"
                value={searchKey}
                onchange={handleSearchChange}>
                </lightning-input>
            <br/>

            <lightning-datatable
            key-field="Id"
            data={students}
            columns={columns}
            onsort={handleSort}
            sorted-by={sortedBy}
            sorted-direction={sortedDirection}
            onrowaction={handleRowAction}>
         </lightning-datatable>
            
        </div>
    </lightning-card>
    <template if:true={isEditModalOpen}>
    <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">

            <header class="slds-modal__header">
                <h2 class="slds-text-heading_medium">Edit Student</h2>
            </header>

            <div class="slds-modal__content slds-p-around_medium">

                <lightning-input 
                    name="Name"
                    label="Full Name"
                    value={editRecord.Name}
                    onchange={handleEditChange}>
                </lightning-input>

                <lightning-input 
                    name="Email__c"
                    type="email"
                    label="Email"
                    value={editRecord.Email__c}
                    onchange={handleEditChange}>
                </lightning-input>

                <lightning-input 
                    name="Class__c"
                    label="Class"
                    value={editRecord.Class__c}
                    onchange={handleEditChange}>
                </lightning-input>

            </div>

            <footer class="slds-modal__footer">
                <lightning-button 
                    variant="neutral" 
                    label="Cancel" 
                    onclick={closeEditModal}>
                </lightning-button>

                <lightning-button 
                    variant="brand" 
                    label="Save" 
                    onclick={saveUpdatedRecord}>
                </lightning-button>
            </footer>

        </div>
    </section>

    <div class="slds-backdrop slds-backdrop_open"></div>
</template>

</template>

